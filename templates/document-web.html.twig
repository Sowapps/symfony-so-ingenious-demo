{#
ADOV is Admin Overlay
@var string bodyController
@var string bsTheme
@var bool adminView
#}

{% set currentLanguage = language.languageByLocale(app.locale) %}
{% set enableAdov = enableAdov|default(false) %}
{% set enableAdox = enableAdox|default(false) %}
{% set bodyClass = bodyClass | default %}
{%- if enableAdov %}
    {% set bodyClass = bodyClass ~ ' adov-container' %}
{%- endif -%}
{%- if enableAdox %}
    {% set bodyClass = bodyClass ~ ' adox-container' %}
{%- endif -%}

<!doctype html>
<html lang="{{ currentLanguage.primaryCode }}" {% if bsTheme|default %}data-bs-theme="{{ bsTheme }}"{% endif %}>
{#<html lang="en">#}
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

    <title>{% block title %}{{ 'page.home.title' | trans({app: 'app.label' | trans}) }}{% endblock %}</title>
	<link rel="shortcut icon" href="{{ asset('favicon.ico') }}">
    <meta name="app-version" content="{{ context.app.version }}">

    {% block stylesheets -%}
        <link rel="stylesheet" href="{{ asset('styles/app.scss') }}">
        {%- if enableAdov %}
            <link rel="stylesheet" href="{{ asset('styles/adov.scss') }}">
        {%- endif -%}
        {%- if enableAdox %}
            <link rel="stylesheet" href="{{ asset('styles/adox.scss') }}">
        {%- endif -%}
    {%- endblock %}

    {% block javascripts %}
        {% block importmap %}{{ importmap('app') }}{% endblock %}
    {% endblock %}
</head>
{% block document_body -%}
    <body class="{{ bodyClass | default }}"{% if bodyController is defined %} data-controller="{{ bodyController }}"{% endif %}>
    <div class="app-body">
        {% block body %}{% endblock %}
    </div>
    {%- if enableAdov %}
        <div class="adov-overlay">
            <div class="adov-top">
                <divn class="d-flex flex-row">
                    <div class="px-2">
                        <a class="link-light fs-5" href="{{ path(routing.route.admin_default) }}" title="Back to Back-office">
                            <i class="fa-solid fa-arrow-right-from-bracket fa-flip-horizontal"></i>
                        </a>
                    </div>
                    <div class="px-2">
                        <a class="link-light fs-5" href="{{ app.request.pathinfo }}" data-editor="false" title="This page in read view">
                            <i class="fa-solid fa-newspaper"></i>
                        </a>
                    </div>
                </divn>
                {# TODO Show current Fragment & route info #}
                {# TODO See Fragment tree #}
                {# TODO Select Fragment in tree #}
                {# TODO Show selected Fragment info #}
                {% if fragment is defined %}
                    {# @var \App\Entity\PublicationFragment fragment #}
                    <div>{{ fragment.name }}</div>
                    <div class="me-2">
                        Actions
                        {# TODO Select Fragment #}
                        {# TODO Unselect Fragment #}
                        {# TODO Undo #}
                        {# TODO Redo #}
                        {# TODO Change fragment status #}
                        {# TODO Save #}
                    </div>
                {% else %}
                    <div></div>
                    <div></div>
                {% endif %}
            </div>
        </div>
    {% endif %}
    {%- if enableAdox %}
        <div class="adox-toolbox bg-secondary p-1 d-none d-md-block">
            <a class="btn btn-secondary" href="{{ app.request.pathinfo }}?editor=1">
                <i class="fa-solid fa-pen-to-square"></i>
            </a>
        </div>
    {% endif %}

    </body>
{%- endblock %}
</html>
